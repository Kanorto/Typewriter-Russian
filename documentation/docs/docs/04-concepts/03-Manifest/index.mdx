---
difficulty: Easy
---

import RiveBoard from "@site/src/components/RiveBoard";

# Записи манифеста

В Typewriter существует несколько типов записей. Основными являются `Sequence Entries` — `Dialogue Entries`, `Event Entries` и `Action Entries`. Ещё один важный тип — `Manifest Entry`. Если `Sequence Entries` описывают последовательность действий, то `Manifest Entries` представляют декларативный подход. Давайте разберёмся, чем они отличаются и как работают.

## Then vs When

### Then (`Sequence entries`)
Логика "Then", представляемая `Sequence Entries`, действует как набор инструкций: «Сделай это, затем то, а потом другое». Это похоже на направленный граф, где каждый шаг ведёт к следующему.

Например, представьте полоску босса в Minecraft, которую нужно показывать и обновлять по мере перемещения игрока по деревне.

Используя логику "Then", нужно было бы:
1. Показать полоску босса, когда игрок входит в деревню;
2. Изменить текст полоски на «Welcome to the village!»;
3. Изменить текст на «Check out the blacksmith!», когда игрок заходит в кузницу;
4. Снова вернуть текст «Welcome to the village!», когда игрок выходит из кузницы;
5. Скрыть полоску, когда игрок покидает деревню.

### When (`Manifest Entries`)
Логика "When", представляемая `Manifest Entries`, описывает условия и действия, которые выполняются при их выполнении. Это похоже на дерево, где разные ветви отображают условия и соответствующие им действия.

Пример: в той же ситуации с деревней логику "When" можно описать так:
 - Когда игрок находится в деревне,
   - показывать полоску босса с текстом «Welcome to the village!»;
 - Когда игрок заходит в кузницу,
   - обновлять текст на «Check out the blacksmith!».

Такой подход позволяет задать условия, при которых выполняется действие, а не прописывать линейную последовательность шагов.
Если вы захотите добавить ещё здания с собственными сообщениями, при логике "Then" появилось бы много повторяющихся записей. С "When" достаточно добавить новые условия и действия, и Typewriter сам решит, что показывать в зависимости от местоположения игрока.

## Интерактивная визуализация

Чтобы лучше понять разницу между логикой "Then" и "When", воспользуйтесь интерактивной визуализацией.
Перемещайте курсор по деревне и зданию кузницы, чтобы увидеть, как полоска босса меняется в зависимости от положения игрока.

Внизу показано, как логики "Then" и "When" представлены в виде направленного графа и древовидной структуры.

<RiveBoard stateMachines="State Machine" src={require('./assets/manifest.riv').default} 
 />
