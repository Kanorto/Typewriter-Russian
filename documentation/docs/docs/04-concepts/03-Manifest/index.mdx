---
difficulty: Easy
---

import RiveBoard from "@site/src/components/RiveBoard";

# Записи манифеста

В Typewriter есть несколько типов записей, основной — это `Sequence Entries`, включающие `Dialogue Entries`, `Event Entries` и `Action Entries`. Следующим важным типом является `Manifest Entry`. Если `Sequence Entries` императивны, то `Manifest Entries` декларативны. Давайте разберём разницу между этими подходами и то, как они работают.

## Then против When

### Then (`Sequence entries`)
Логика «Then», представленная `Sequence Entries`, работает как набор инструкций: «Сделай это, затем сделай то, затем ещё что-то». Это похоже на ориентированный граф, где каждое действие ведёт к следующему по линейной цепочке.

Пример: допустим, нужно показать и обновлять полоску босса, пока игрок перемещается по деревне.

Используя логику «Then», вы бы:
1. Показывали полоску босса, когда игрок входит в деревню
2. Обновляли текст полоски на «Добро пожаловать в деревню!»
3. Обновляли текст на «Загляни к кузнецу!», когда игрок входит в кузницу
4. Возвращали текст полоски к «Добро пожаловать в деревню!», когда игрок выходит из кузницы
5. Скрывали полоску босса, когда игрок покидает деревню

### When (`Manifest Entries`)
Логика «When», представленная `Manifest Entries`, определяет условия и описывает, что должно произойти при их выполнении. Это похоже на древовидную структуру, где разные ветви представляют условия и соответствующие им действия.

Пример: В той же ситуации с деревней, используя логику «When», вы бы:
 - Когда игрок находится в деревне
   - Показывали полоску босса с текстом «Добро пожаловать в деревню!»
 - Когда игрок находится в кузнице
   - Обновляли текст полоски на «Загляни к кузнецу!»

В таком подходе вы определяете условия, при которых выполняется действие, а не описываете последовательность шагов.
Предположим, вы хотите добавить больше зданий в деревню и показывать различные сообщения при входе игрока в каждое здание.
При использовании логики «Then» это приведёт к множеству повторяющихся записей, в то время как в логике «When» можно просто добавить новые условия и действия, и Typewriter сам определит, что отображать в зависимости от местоположения игрока.

## Интерактивная визуализация

Чтобы лучше понять разницу между логикой «Then» и «When», давайте посмотрим интерактивную визуализацию.
Попробуйте навести курсор на деревню и здание кузницы, чтобы увидеть, как меняется полоска босса в зависимости от положения игрока.

Внизу будет показано, как логика «Then» и «When» представлены соответственно в виде ориентированного графа и древовидной структуры.

<RiveBoard stateMachines="State Machine" src={require('./assets/manifest.riv').default} 
 />
