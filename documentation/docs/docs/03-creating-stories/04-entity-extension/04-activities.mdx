---
difficulty: normal
---

import Player from "@site/src/components/Player";
import Image from "@site/src/components/Image";
import ActionButton from '@site/src/components/ActionButtons';  
import EntryDisplay from "@site/src/components/EntryDisplay";
import EntrySearch from "@site/src/components/EntrySearch";
import EntryNodeInspector from "@site/src/components/EntryInspector";

# Активности сущностей
:::info[Перед началом]
Перед началом изучите раздел [Сущности и NPC](./index.mdx).
:::

В этом уроке вы узнаете, как назначать активности вашим сущностям.

## Что такое активности?

По умолчанию сущности статичны. Активности позволяют сделать их динамичными: можно запускать действия при приближении игрока или в особые моменты, например во время диалога. С помощью Road Network сущности могут перемещаться между узлами!

## Назначение активности сущности

В примере мы настроим **Оливера** так, чтобы он автоматически передвигался по Road Network. Когда игрок с ним взаимодействует, он будет останавливаться и разворачиваться к нему.

Для этого используем **In Dialogue Activity**, позволяющую задать два поведения: одно при разговоре с игроком и другое в остальное время.

Добавим к экземпляру Оливера запись `In Dialogue Activity`.
<EntrySearch entryName="in_dialogue_activity"/>

## Настройка активности

`In Dialogue Activity` управляет двумя дочерними активностями в зависимости от того, разговаривает ли сейчас игрок с сущностью.

<Image img={require("./assets/activities/in_dialogue_activity.png")} alt="In Dialogue Activity panel image" />

- Для **Talking Activity** выберем `Look Close Activity`, чтобы во время беседы Оливер смотрел прямо на игрока.
- Для **Idle Activity** используем `Patrol Activity`, позволяющую Оливеру ходить между узлами Road Network.

Если у вас ещё нет Road Network, выполните руководство [Road Network](../road-network). Добавьте нужные узлы при помощи кнопки <ActionButton button='capture'/>.

<Image img={require("./assets/activities/patrol_activity.png")} alt="Patrol Activity panel image" />

## Итог

Когда игрок взаимодействует с Оливером, тот прекращает патрулирование и поворачивается к нему. После окончания разговора он продолжит обходить узлы сети.

### Предпросмотр страниц
<EntryDisplay pages={[
    require("./assets/activities/pages/manifest.json"),
    require("./assets/activities/pages/static.json"),
    require("./assets/activities/pages/sequence.json"),
]} />

### Превью в игре
<Player url={require("./assets/activities/result.webm").default} />
