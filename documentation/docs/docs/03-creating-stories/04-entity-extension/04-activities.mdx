---
difficulty: Normal
---

import Player from "@site/src/components/Player";
import Image from "@site/src/components/Image";
import ActionButton from '@site/src/components/ActionButtons';  
import EntryDisplay from "@site/src/components/EntryDisplay";
import EntrySearch from "@site/src/components/EntrySearch";
import EntryNodeInspector from "@site/src/components/EntryInspector";

# Активности сущностей
:::info[Перед началом]
Прежде чем приступить, ознакомьтесь с разделом [Сущности и NPC](./index.mdx).
:::

В этом уроке вы узнаете, как назначать активности вашим сущностям.

## Что такое активности?

По умолчанию сущности статичны. Активности позволяют сделать их динамичными. Можно запустить действие, когда игрок подходит к сущности, или в определённые моменты — например, при разговоре. С помощью Road Networks можно перемещать сущности между узлами!

## Назначение активности сущности

В этом уроке настроим **Оливера** так, чтобы он автоматически перемещался по Road Network. При взаимодействии с игроком он будет останавливаться и поворачиваться к нему.

Для этого используем **In Dialogue Activity**, позволяющую задать два поведения: одно, когда игрок говорит с сущностью, и другое, когда нет.

Добавим в экземпляр Оливера `In Dialogue Activity`.
<EntrySearch entryName="in_dialogue_activity"/>

## Настройка активности

`In Dialogue Activity` управляет двумя вложенными активностями в зависимости от того, разговаривает ли игрок с сущностью.

<Image img={require("./assets/activities/in_dialogue_activity.png")} alt="In Dialogue Activity panel image" />

- Для **Talking Activity** выберем `Look Close Activity`, чтобы во время диалога Оливер смотрел прямо на игрока.
- Для **Idle Activity** используем `Patrol Activity`, позволяющую ему ходить между узлами Road Network.

Если Road Network ещё не создан, следуйте этому руководству: [Road Network](../road-network). Узлы добавляются через кнопку <ActionButton button='capture'/>.

<Image img={require("./assets/activities/patrol_activity.png")} alt="Patrol Activity panel image" />

## Итоговый результат

Когда игрок взаимодействует с Оливером, тот прекращает патрулировать и поворачивается к нему лицом. По окончании взаимодействия патруль продолжается.

### Предпросмотр страниц
<EntryDisplay pages={[
    require("./assets/activities/pages/manifest.json"),
    require("./assets/activities/pages/static.json"),
    require("./assets/activities/pages/sequence.json"),
]} />

### Превью в игре
<Player url={require("./assets/activities/result.webm").default} />
