---
difficulty: Normal
---

import EntrySearch from "@site/src/components/EntrySearch";
import Image from "@site/src/components/Image";
import EntryDisplay from "@site/src/components/EntryDisplay";
import Player from "@site/src/components/Player";

# Условное отображение NPC
:::warning[Создание NPC]
В этом уроке предполагается, что у вас уже есть созданная сущность.\
Если это не так, сначала выполните руководство [по расширению сущностей](./index.mdx).
:::
В этом уроке вы узнаете, как показывать сущность только при выполнении определённых условий с помощью аудиторий.

## Добавление записи аудитории
Существует множество типов аудиторий. В этом примере мы используем Game Time Audience, но остальные работают схожим образом.


Нажмите на значок `+` в правом верхнем углу панели и найдите `New Game Time Audience`. Добавьте эту запись на страницу.

<EntrySearch entryName="game_time_audience"/>

## Привязка к экземпляру сущности
Перетащите запись экземпляра сущности на `New Game Time Audience` — так аудитория будет связана с NPC.

Теперь страница должна выглядеть примерно так:

<EntryDisplay pages={[
    require("./assets/conditional/manifest.json"),
]} />

## Настройка аудитории
Внутри записи есть два поля:
* **Children** — здесь указываются сущности, которые нужно показывать при выполнении условий аудитории;
* **Active Times** — время, в которое аудитория активна и её дети отображаются;
* **Inverted** — инвертирует условие, показывая сущность, когда аудитория *не* выполнена.

## Результат

<Player url={require("../../assets/entity-extension/conditional-npc-result.webm").default} />
