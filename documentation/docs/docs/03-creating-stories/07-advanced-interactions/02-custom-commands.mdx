---
difficulty: Normal
---

import Player from "@site/src/components/Player";
import Image from "@site/src/components/Image";
import EntryDisplay from "@site/src/components/EntryDisplay";
import EntrySearch from "@site/src/components/EntrySearch";
import EntryNodeInspector from "@site/src/components/EntryInspector";
import ActionButton from "@site/src/components/ActionButtons"

# Пользовательские команды
:::info[Before starting]
В этом руководстве предполагается, что у вас уже установлено [Basic Extension](../../02-getting-started/01-installation.mdx#basic-extension).
:::

:::warning[Custom Commands]
Здесь показано, как создать собственную команду с аргументами. Если аргументы не нужны, можно воспользоваться [RunCommandEvent](../../../adapters/BasicAdapter/entries/event/on_run_command.mdx) для создания команды без них.
:::

В этом уроке вы узнаете о пользовательских командах и научитесь создавать их. Мы сделаем команду, в которой можно указать псевдоним и возраст, чтобы вывести сообщение игроку.

## Создание пользовательской команды
Здесь мы создадим команду, позволяющую задать псевдоним и возраст для вывода сообщения игроку. Начнём с элемента Custom Command.
Чтобы добавить элемент Custom Command, перейдите в правый верхний угол панели и нажмите на значок +. Найдите `Add Custom Command`, добавьте его в манифест и дайте имя.
<EntrySearch entryName="custom_command" />

## Создание аргументов
Нам потребуются два типа аргументов: `Word Argument` для получения слова (псевдонима) и `Number Argument` для числа (возраста).
Чтобы добавить аргумент, выберите элемент `Custom Command`, затем раздел `Arguments` и нажмите `Add Word Argument`. После этого щёлкните по последнему аргументу и добавьте дочерний `Add Number Argument`.
<Image img={require("../../assets/interactions/custom-command-arguments.png")} alt="Custom Command Arguments" width={400}/>
<Image img={require("../../assets/interactions/arguments-children.png")} alt="Arguments Children" width={400}/>

:::tip[Number Argument]
Переименуйте аргументы, чтобы игрокам было проще понимать их при вводе команды.
:::

## Добавляем действие команде
Чтобы команда действительно что‑то выполняла, сделайте следующее:
1. В `Number Argument` добавьте триггер. Здесь мы используем элемент `Send Message`.
2. Внутри `Send Message` нажмите <ActionButton button="dynamic-variable" /> над полем `message` и найдите `String Builder Variable`.
3. Создайте часть в строковом билдере и назовите её `pseudo`.
4. В качестве значения этой части выберите `Interaction Context String Variable` и укажите ранее созданный элемент `Pseudo Word Argument`.
5. То же самое проделайте для числового аргумента.
6. Наконец, составьте сообщение. В примере мы используем `Hi <pseudo>, you are <age> years old.`
<Image img={require("../../assets/interactions/string-builder-variable.png")} alt="Interaction Context Text Variable" width={400}/>


## Результат

### Результат в последовательности
Теперь ваши страницы должны выглядеть примерно так:
<EntryDisplay pages={[
    require("./assets/commands/sequence.json"),
    require("./assets/commands/manifest.json"),
]} />
:::warning[Variables]
Наш движок документации пока не поддерживает отображение динамических переменных, поэтому вы увидите упрощённое статическое сообщение вместо реального значения.
:::

### Результат в игре
В игре команда будет выглядеть так:
<Player url={require("../../assets/custom-commands/result.webm").default} />
