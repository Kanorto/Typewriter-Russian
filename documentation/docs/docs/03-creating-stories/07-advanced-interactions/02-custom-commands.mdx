---
difficulty: Normal
---

import Player from "@site/src/components/Player";
import Image from "@site/src/components/Image";
import EntryDisplay from "@site/src/components/EntryDisplay";
import EntrySearch from "@site/src/components/EntrySearch";
import EntryNodeInspector from "@site/src/components/EntryInspector";

# Пользовательские команды
:::info[Прежде чем начать]
Это руководство предполагает, что у вас уже установлен [Basic Extension](../../02-getting-started/01-installation.mdx#basic-extension).
:::

В этом уроке вы узнаете о пользовательских командах и научитесь их создавать. Мы сделаем команду, в которую можно передать псевдоним и возраст, чтобы отобразить сообщение игроку.

## Создание команды
Мы создадим команду, где можно задать псевдоним и возраст игрока. Для начала добавим запись Custom Command.
Чтобы добавить команду, нажмите значок + в правом верхнем углу панели. Найдите `Add Custom Command`, добавьте её в манифест и дайте имя.
<EntrySearch entryName="custom_command" />

## Создание аргументов
Нам понадобятся два типа аргументов: `Word Argument` для получения слова (псевдонима) и `Number Argument` для числа (возраста).
Чтобы добавить аргумент, выберите запись `Custom Command`, затем пункт `Arguments` и нажмите `Add Word Argument`. После этого выберите последний аргумент и добавьте дочерний `Add Number Argument`.
<Image img={require("../../assets/interactions/custom-command-arguments.png")} alt="Custom Command Arguments" width={400}/>
<Image img={require("../../assets/interactions/arguments-children.png")} alt="Arguments Children" width={400}/>

:::tip[Number Argument]
Переименуйте аргументы, чтобы игрокам было понятнее, что вводить.
:::

## Добавляем действие
Если команда должна что‑то делать, добавьте Trigger к последнему аргументу. В `Number Argument` нажмите `Trigger` и выберите нужную запись действия, в нашем случае `Send Message`.
Чтобы получить введённые игроком значения, используем `Interaction Context Text Variable` и добавим к ней ключи. Затем составим сообщение из полученных значений.
<Image img={require("../../assets/interactions/context-text-variable.png")} alt="Interaction Context Text Variable" width={400}/>

## Результат

### Итоговая последовательность
Страницы должны выглядеть примерно так:
<EntryDisplay pages={[
    require("./assets/commands/sequence.json"),
    require("./assets/commands/manifest.json"),
]} />
:::warning[Переменные]
Наш рендерер документации пока не умеет отображать динамические переменные, поэтому вы увидите упрощённое статическое сообщение вместо настоящего.
:::

### В игре
В игре команда будет выглядеть так:
<Player url={require("../../assets/custom-commands/result.webm").default} />
