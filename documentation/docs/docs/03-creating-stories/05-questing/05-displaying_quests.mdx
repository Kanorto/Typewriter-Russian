---
difficulty: Normal
---

import EntrySearch from "@site/src/components/EntrySearch";
import Image from "@site/src/components/Image";
import Player from "@site/src/components/Player";
import StateFlow from '@site/src/components/StateFlow';
import { SplitLayout, Section } from '@site/src/components/SplitLayout';
import EntryDisplay from "@site/src/components/EntryDisplay";
import Deopasity from "@site/src/components/Deopasity";

# Отображение квестов
:::info[Before starting]
Сначала изучите раздел [Квесты](./index.mdx) и практический пример [Цель разговора](./01-talk-objective.mdx).
:::

В этом уроке вы узнаете, как показывать информацию о квестах с помощью системы отслеживания и плейсхолдеров Typewriter.


## Как работает отслеживание квестов
Typewriter использует **факты** для отслеживания прогресса квеста. Эти данные определяют его состояние, но чтобы **показать** информацию игроку, нужно отслеживать конкретный квест.

:::tip[The Big Picture]
Think of quest tracking as a spotlight. While many quests might be active, tracking puts one quest in the spotlight for the player to focus on.
:::

### Как работает отслеживание
Когда квест отслеживается, он становится "выбранным" и отображается во всех системах, таких как табло и боковые панели, удерживая внимание игрока на текущей цели.


:::warning[Только один квест]
Хотя квестов может быть активно несколько, отслеживаться может лишь **один**. Это помогает не захламлять интерфейс.
:::

## Настройка отслеживания квестов

### Автоматическое отслеживание
Typewriter автоматически начинает отслеживать квесты в следующих случаях:
- When a quest becomes active
- When an objective becomes active and has a higher priority than the currently tracked objectives

This means in most cases, you won't need to manually manage quest tracking. Typewriter handles it intelligently!
Обычно не требуется вручную управлять отслеживанием: Typewriter делает это сам.
<Deopasity default={0.6} hover={1}>

### Ручное отслеживание
Иногда нужно самому выбрать, какой квест отслеживать.
Вы можете вручную отслеживать квест командой:
```
/tw quest track <quest_id>
```
или с помощью записи **Track Quest Action** в вашей цепочке.

</Deopasity>

## Отображение информации о квесте через плейсхолдеры

Теперь, когда вы знаете об отслеживании, рассмотрим способы вывода информации. Typewriter предоставляет несколько плейсхолдеров, показывающих данные о текущем квесте.

### Available Placeholders

| Placeholder | Description | Example Output |
|-------------|-------------|----------------|
| `%typewriter_tracked_quest%` | The display name of the tracked quest | `Kill Zombie Quest` |
| `%typewriter_tracked_objectives%` | A comma-separated list of the quest's active objectives | `Kill 2 Zombies, Return to Oliver` |
| `%typewriter_tracked_objectives_locations%` | The locations of the tracked locatable objectives | `X: 100, Y: 64, Z: -200` |

## Отображение в боковой панели

If Typewriter is managing your sidebar, you can use the [Objective Lines Entry](../../../adapters/BasicAdapter/entries/quest/objective_lines.mdx) to display the objectives of the tracked quest.

A possible setup for the sidebar could be:

:::tip
Обратите внимание, что строки целей здесь указаны без плейсхолдера
:::

<EntryDisplay pages={[
    require("../../assets/questing/display/quest_display_manifest.json"),
]} />

## Изменения статуса квеста

Вы можете показывать визуальные эффекты при активации и завершении квестов, чтобы игрок понимал свой прогресс.

Обычно используют:
- **Title announcements** when a quest starts or completes
- **Particle effects** to celebrate quest completion
- **Sound effects** for important quest milestones
- **Chat messages** for quest updates

An example setup for this could be:
<EntryDisplay pages={[
    require("../../assets/questing/display/quest_display_sequence.json"),
]} />

:::tip[Баланс]
Не перегружайте игроков эффектами. Иногда достаточно простого титра или звука.
:::
