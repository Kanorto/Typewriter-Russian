---
difficulty: Normal
---

import Player from "@site/src/components/Player";
import Image from "@site/src/components/Image";
import EntrySearch from "@site/src/components/EntrySearch";

# Синематик при первом входе

:::info[Перед началом]
Перед началом рекомендуется прочитать разделы [«Интеракции»](../01-interactions/index.mdx), [«Синематики»](./index.mdx) и [«Факты»](../03-facts/index.mdx). Убедитесь, что у вас уже есть страницы последовательности и синематика.
:::

В этом руководстве вы узнаете, как создать синематик, который будет проигрываться при первом входе игрока на сервер.

## Добавление записи входа
Сначала необходимо добавить запись `Add On Player Join` в последовательность. Нажмите на значок + в правом верхнем углу панели, найдите `Add On Player Join` и кликните по + для добавления на страницу.

<EntrySearch entryName='on_player_join'/>

## Ожидание взаимодействия
:::danger[Преждевременный запуск]
Пока игрок полностью не загрузился на сервер, Typewriter может запустить синематик раньше времени. Такое возможно при медленном соединении или слабом компьютере. В итоге игрок окажется на сервере в середине синематика, а не в его начале. Чтобы избежать этого, рекомендуется добавить опцию или задержку, требующую действия игрока перед стартом синематика.
:::
Чтобы добавить опцию в последовательность, ознакомьтесь с разделом [«Опции»](../01-interactions/01-options.mdx). В нашем примере будет создана `New Option` с пунктом `Start Cinematic`.

### Настройка критерия
:::warning[Опция]
Если вы используете опцию из раздела [«Ожидание взаимодействия»](#waiting-for-interaction), следующие шаги нужно выполнять внутри опции, а **не** в самом синематике.
:::
Теперь нужно настроить критерий для синематика. Нажмите `+` в инспекторе рядом с полем criteria и выберите факт, который хотите использовать. В примере это постоянный факт `First Join` с группой player group.

<Image img={require("../../assets/cinematics/first-join-fact.png")} alt="first-join-fact" width={400} />

Внутри критерия установите оператор `==` и значение `0`.

### Настройка модификатора
После настройки критерия нужно изменить факт, чтобы при повторном входе синематик не запускался. Нажмите `+` в инспекторе рядом с полем modifier и выберите факт для изменения. В примере используем тот же факт, что и в критерии. В модификаторе установите оператор `=` и значение `1`.

Теперь ваш инспектор должен выглядеть так:

<Image img={require("../../assets/cinematics/add-cinematic-fields.png")} alt="add-cinematic-fields" width={400} />

## Добавление записи `Add Cinematic`
Далее нужно добавить запись `Add Cinematic` в последовательность. Для этого щёлкните правой кнопкой мыши по `New On Player Join` и выберите `+ Link with ...`. Найдите `Add Cinematic` и нажмите +, чтобы добавить запись. Теперь страница последовательности должна выглядеть так:

<Image img={require("../../assets/cinematics/add-cinematic.png")} alt="Add-Cinematic" width={400} />

В `New Cinematic` в инспекторе выберите синематик, который хотите запустить. В примере это `Tutorial_Cin`.

## Результат
Теперь при первом входе игрока на сервер синематик будет проигран. При повторных входах он уже не запустится.

<Player url={require("../../assets/cinematics/first-join-result.webm").default}/>
