---
difficulty: Easy
---

import DownloadVersion from "@site/src/components/DownloadVersion";
import Image from "@site/src/components/Image";

# Руководство по установке

:::danger[Совместимость платформы]
Typewriter работает **только** на серверах **paper**. На Spigot или Bukkit он не запустится.
:::

## Установка плагина Typewriter

Выполните следующие шаги, чтобы без проблем установить плагин Typewriter на сервер Paper:

### Установка плагина

1. Скачайте файл плагина <DownloadVersion />.
2. Поместите его в папку `plugins` вашего сервера.

### Зависимости

Для корректной работы Typewriter требуются дополнительные плагины.

3. Скачайте зависимость Typewriter —
   [PacketEvents](https://modrinth.com/plugin/packetevents/versions?l=paper) —
   и положите её в папку `plugins`.

4. Убедитесь, что у вас **не** установлены плагины
   [InteractiveChat](
   https://www.spigotmc.org/resources/interactivechat-show-items-inventory-in-chat-custom-chat-keywords-
   bungee-velocity-support.75870/)
   или [CustomNamePlates](https://polymart.org/resource/customnameplates.2543)
   (версии 3.0.15 и ниже) — они конфликтуют с Typewriter.

### Basic Extension

Typewriter предлагает множество расширений для кастомизации, но `BasicExtension` необходимо установить обязательно.

5. Скачайте последнюю версию `BasicExtension` по ссылке <DownloadVersion /> и
   поместите её в папку `plugins/Typewriter/extensions`.

Полный список доступных расширений смотрите в разделе [расширения](../../adapters).

6. После установки всех компонентов перезапустите сервер Minecraft, чтобы завершить установку Typewriter.

:::danger[Несоответствие версий]
При обновлении плагина **обязательно** ставьте соответствующие ему версии
расширений. Несовпадение версий приведёт к некорректной работе!
:::

## Настройка веб-панели

:::caution[Хостинг-провайдеры]
Веб-панель Typewriter **несовместима** с некоторыми сторонними хостингами,
такими как **Minehut**, **Aternos** и **Apex**. Обычно они не поддерживают
открытие дополнительных портов, хотя иногда это можно сделать через техподдержку.

Если открыть порты не получается, используйте остальные функции Typewriter или разверните локальный сервер.

При возникновении вопросов обращайтесь на наш [Discord](https://discord.gg/HtbKyuDDBw).
:::

:::info[Потребление ресурсов]
Учтите, что веб-панель и веб-сокет расходуют ресурсы сервера. Лучше размещать
панель на тестовом сервере, а не на боевом.
:::

После установки плагина нужно настроить веб-панель.

Для работы панели требуются два открытых порта. Их можно изменить, но по умолчанию используются `8080` и `9092`.

Чтобы включить панель, выполните следующие действия:

### Включение веб-панели

1. Откройте файл `plugins/Typewriter/config.yml`.
2. Измените настройки следующим образом:

```yaml title="plugins/Typewriter/config.yml"
# Включена ли веб-панель и веб-сокеты.
enabled: true
# Адрес сервера. ОБЯЗАТЕЛЬНО замените на свой IP.
hostname: "127.0.0.1"
# Панель использует веб-сокеты для синхронизации изменений и совместной работы.
websocket:
  # Порт сервера веб-сокетов. Убедитесь, что он открыт.
  port: 9092
  # Используемый тип аутентификации. Не меняйте без необходимости.
  auth: "session"
panel:
  # Панель можно выключить, оставив сокеты открытыми. Делайте это только при полном понимании.
  # Если веб-сокеты отключены, панель тоже работать не будет.
  enabled: true
  # Порт веб-панели. Убедитесь, что он открыт.
  port: 8080
```

3. Проверьте открытость портов с помощью [portchecker](https://portchecker.co/).
   Если порты закрыты, откройте их сами или обратитесь к хостеру.
4. Перезапустите сервер, чтобы завершить установку.

## Подключение к веб-панели

Чтобы подключиться к панели, выполните следующие действия:

1. В игре выполните команду `/typewriter connect`. Она выдаст ссылку для входа в панель.

![Connect-command](../assets/installation/connect-command.gif)

2. Откройте эту ссылку в любом удобном браузере.

<Image
  img={require("../assets/installation/connect-book.png")}
  width={400}
  alt="Connect to the web panel in the book"
/>

После подключения вы сможете создавать и настраивать квесты, диалоги NPC и
многое другое. Панель также позволяет просматривать и редактировать уже созданные
взаимодействия.

## Устранение неполадок

Если возникли проблемы, загляните на страницу [по устранению неполадок](../06-troubleshooting/index.mdx).
При необходимости задайте вопрос на [Discord](https://discord.gg/HtbKyuDDBw).

## Что дальше?

Попробуйте создать своё первое взаимодействие, следуя руководству
[Взаимодействия](../03-creating-stories/01-interactions/index.mdx). Если
возникнут вопросы, задавайте их на [Discord](https://discord.gg/HtbKyuDDBw).
