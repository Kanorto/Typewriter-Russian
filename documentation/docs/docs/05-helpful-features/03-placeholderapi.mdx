---
difficulty: Easy
---

import Image from "@site/src/components/Image";

# PlaceHolderAPI

:::warning[plugin needed]
Перед началом установите [PlaceHolderAPI](https://www.spigotmc.org/resources/placeholderapi.6245/).
:::

## Использование плейсхолдеров PlaceHolderAPI

Чтобы использовать плейсхолдеры PlaceHolderAPI, убедитесь, что над текстовым полем есть его значок (см. изображение):

<Image img={require("../assets/placeholderapi/papi-icon.png")} alt="PlaceholderAPI Icon" width={400} />

Используйте стандартный формат PlaceHolderAPI. Например, `%player_name%` выдаст имя игрока.

:::danger[Не работает]
Если плейсхолдеры не работают, убедитесь, что нужный плейсхолдер установлен.
Для `%player_name%` загрузите `player` через ecloud командой `/papi ecloud download player`.
:::

## Использование плейсхолдеров Typewriter

Typewriter предоставляет два плейсхолдера для PlaceHolderAPI:

- `%typewriter_entryid%`
- `%typewriter_entryname%`
Оба плейсхолдера содержат одинаковую информацию, но надёжнее использовать ID записи. Имя можно применять по желанию.

Чтобы узнать ID записи, смотрите изображение:

<Image img={require("../assets/placeholderapi/papi-factid.png")} alt="PlaceholderAPI Icon" width={500} />

Ваш плейсхолдер будет выглядеть примерно так `%typewriter_W2X2ZbG0pzXGsS6%`.\
Затем при обращении к плейсхолдеру ID определяет результат:

- Если запись — говорящий, вернётся displayName.
- Если запись — факт, вернётся значение факта.
- Если запись — звук, вернётся ID звука из ресурспака.
- Если запись — сущность, вернётся её displayName
- Если запись — lines, вернётся содержимое записи.
- Если запись — квест, вернётся его displayName.
- Если запись — objective, вернётся форматированное имя цели.
- Если запись — sidebar, вернётся заголовок сайдбара.

### Параметры плейсхолдеров
Иногда нужно получить другую информацию из записи. Используйте параметры плейсхолдера. Ниже неполный список:

#### Fact Entries
- `%typewriter_<entry id>:remaining:<number>%`: возвращает `<number> - fact value` (сколько осталось собрать).
- `%typewriter_<entry id>:time:lastUpdated%`: показывает время обновления факта.
- `%typewriter_<entry id>:time:lastUpdated:relative%`: сколько времени прошло с обновления, например `3m 20s`.

#### Временные факты

- `%typewriter_<entry id>:time:expires%`: время истечения факта.
- `%typewriter_<entry id>:time:expires:relative%`: показывает, сколько осталось до истечения, например `3m 20s`.

## Пользовательские плейсхолдеры
Typewriter имеет четыре дополнительных плейсхолдера:

- `%typewriter_tracked_quest%`: отображает имя отслеживаемого квеста.
- `%typewriter_tracked_objectives%`: отображает имена активных целей отслеживаемого квеста.
- `%typewriter_in_cinematic%`: возвращает `0`, если кинематик не воспроизводится, и `1`, если воспроизводится.
- `%tracked_objectives_locations%`: координаты отслеживаемых целей (формат меняется в [сниппетах](./05-snippets.mdx))
